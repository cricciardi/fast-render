import{c as O}from "./chunk-YMNVC5FC.js";import{a as h}from"./chunk-5LYK52ZE.js";import{a as z}from"./chunk-5MVNKRVB.js";import{B as b,Fa as H,Ga as x,Ja as o,Ka as c,P as I,S as g,Sa as A,Wa as d,X as S,_,_a as u,db as r,eb as a,fb as f,jb as v,n as y,pb as p,qb as C,rb as D,sb as E}from"./chunk-ZDP6SL2T.js";var s=class t{constructor(i){this.http=i}BASE_PATH=h.apiUrl;API_KEY=h.apiKey;getAPODImages(){return this.http.get(`${this.BASE_PATH}/planetary/apod?api_key=${this.API_KEY}`)}static \u0275fac=function(e){return new(e||t)(S(z))};static \u0275prov=g({token:t,factory:t.\u0275fac,providedIn:"root"})};function j(t, i){if(t&1&&f(0,"img",3),t&2){let e=v();d("src",e.apod==null?null:e.apod.url,H)}}function T(t, i){if(t&1&&f(0,"iframe",4),t&2){let e=v();d("src",e.sanitizedUrl,x)}}var w=class t{constructor(i, e){this.homeService=i;this.sanitizer=e}apod;subscriptions=[];sanitizedUrl;ngOnInit(){let i=this.homeService.getAPODImages().pipe(I(e=>{this.apod=e,this.apod?.media_type=="video"&&(this.sanitizedUrl=this.sanitizer.bypassSecurityTrustResourceUrl(this.apod?.url))}),b(e=>(console.error(e),y(()=>e)))).subscribe();this.subscriptions.push(i)}ngOnDestroy(){this.subscriptions.forEach(i=>i.unsubscribe())}static \u0275fac=function(e){return new(e||t)(c(s),c(O))};static \u0275cmp=_({type:t,selectors:[["app-home"]],standalone:!0,features:[E],decls:11,vars:4,consts:[[1,"container"],[1,"justify-content-center","d-flex","text-danger"],[1,"card","w-100","align-content-center","align-items-center","border-0","pt-5","bg-transparent"],["width","700","height","auto","alt","",3,"src"],["allowfullscreen","","width","900","height","600",3,"src"],[1,"card-body","text-white"],[1,"card-title","text-center"],[1,"card-text","text-center"]],template:function(e, n){if(e&1&&(r(0,"div",0)(1,"h1",1),p(2,"Astronomy Picture of the Day"),a(),r(3,"div",2),A(4,j,1,1,"img",3)(5,T,1,1,"iframe",4),r(6,"div",5)(7,"h5",6),p(8),a(),r(9,"p",7),p(10),a()()()()),e&2){let l,m;o(4),u((n.apod==null?null:n.apod.media_type)=="image"?4:-1),o(),u((n.apod==null?null:n.apod.media_type)=="video"?5:-1),o(3),D("",(l=n.apod==null?null:n.apod.title)!==null&&l!==void 0?l:""," "),o(2),C((m=n.apod==null?null:n.apod.explanation)!==null&&m!==void 0?m:"")}}})};export{w as HomeComponent};
